<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Steam Audio API: Steam Audio Pipeline</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Steam Audio API
   &#160;<span id="projectnumber">2.0-beta.15</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">index</a></li><li class="navelem"><a class="el" href="page_integration.html">Integration Guide</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Steam Audio Pipeline </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#pipeline_source">Applying Steam Audio Effects to Individual Sources</a><ul><li class="level2"><a href="#pipeline_source_direct">Direct Sound Path</a><ul><li class="level3"><a href="#pipeline_source_direct_attenuation">Attenuation</a></li>
<li class="level3"><a href="#pipeline_source_direct_occlusion">Occlusion</a></li>
<li class="level3"><a href="#pipeline_source_direct_hrtf">Binaural Rendering</a></li>
</ul>
</li>
<li class="level2"><a href="#pipeline_source_indirect">Indirect Sound</a><ul><li class="level3"><a href="#pipeline_source_indirect_convolution">Sound Propagation</a></li>
<li class="level3"><a href="#pipeline_source_indirect_ambisonics">Ambisonics Rendering</a></li>
<li class="level3"><a href="#pipeline_source_indirect_send">Mixing Direct and Indirect Sound</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#pipeline_reverb">Using Steam Audio for Reverb</a><ul><li class="level2"><a href="#pipeline_reverb_effect">Physics-Based Reverb</a></li>
<li class="level2"><a href="#pipeline_reverb_ambisonics">Ambisonics Rendering</a></li>
<li class="level2"><a href="#pipeline_reverb_mix">Mixing Reverb</a></li>
</ul>
</li>
<li class="level1"><a href="#pipeline_spatializemix">Spatializing Surround and Ambisonics Tracks</a><ul><li class="level2"><a href="#pipeline_spatializemix_ambisonics">Ambisonics Rendering</a></li>
<li class="level2"><a href="#pipeline_spatializemix_surround">Virtual Surround</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This page describes the ways in which audio data can flow through your audio engine when integrated with Steam Audio.</p>
<p>Understanding the various possible sequences of Steam Audio operations that can be applied to audio data will help you decide how best to implement the integration with your audio engine. In the following discussion, the sound source is assumed to be a mono (single-channel) point source; Steam Audio automatically downmixes multi-channel source audio to mono before proceeding.</p>
<h1><a class="anchor" id="pipeline_source"></a>
Applying Steam Audio Effects to Individual Sources</h1>
<p>This section discusses the typical audio pipeline when using Steam Audio to apply 3D audio and sound propagation effects to individual sources. This is the most feature-rich and flexible way of using Steam Audio, but it involves a CPU overhead that depends on the number of sources that use Steam Audio.</p>
<div class="image">
<img src="pipeline_source.png" alt="pipeline_source.png"/>
<div class="caption">
Audio signal flow when applying Steam Audio effects to individual sources.</div></div>
 <h2><a class="anchor" id="pipeline_source_direct"></a>
Direct Sound Path</h2>
<p>The simplest uses of Steam Audio involve adding effects to the <em>direct sound path</em>: recreating how sound travels from the source to the listener, without accounting for reflected or diffracted sound. The following effects can be applied to the direct sound path, in order:</p>
<h3><a class="anchor" id="pipeline_source_direct_attenuation"></a>
Attenuation</h3>
<p>This models how the amplitude of a sound source is attenuated over distance, as it travels from the source to the listener. Steam Audio uses a physics-based attenuation model, with the amplitude decaying proportionally to \( 1/r \), where \(r\) is the distance between the source and the listener. See <a class="el" href="group__directsound.html">Direct Sound</a> for details.</p>
<h3><a class="anchor" id="pipeline_source_direct_occlusion"></a>
Occlusion</h3>
<p>This models how sound is occluded by solid objects. Steam Audio supports multiple occlusion algorithms, see <a class="el" href="group__directsound.html">Direct Sound</a> for details. Modeling occlusion requires that the game engine send scene information to the audio engine; see <a class="el" href="page_game_engine.html">Game Engine Integration</a> for details.</p>
<h3><a class="anchor" id="pipeline_source_direct_hrtf"></a>
Binaural Rendering</h3>
<p>This spatializes the sound based on the direction from the listener to the source. The spatialization is performed using HRTFs; the output of this step is a 2-channel (stereo) buffer that is best listened to using headphones. See <a class="el" href="group__binauraleffect.html">Object-Based Binaural Effect</a> for details.</p>
<h2><a class="anchor" id="pipeline_source_indirect"></a>
Indirect Sound</h2>
<p>Steam Audio can simulate how sounds reflect off of solid objects, leading to effects like echoes and reverberation. These effects are collectively termed <em>indirect sound</em>. The following is the typical flow of audio data when indirect sound effects are applied:</p>
<h3><a class="anchor" id="pipeline_source_indirect_convolution"></a>
Sound Propagation</h3>
<p>This is the main processing stage where sound propagation effects are applied. This involves applying a source-dependent convolution reverb to the sound emitted by the source, which accounts for all the interactions between the sound and the environment as the sound flows from the source to the listener. The output of this step is a multi-channel Ambisonics buffer that must be decoded in software or hardware. See <a class="el" href="group__conveffect.html">Convolution Effect</a> for details.</p>
<h3><a class="anchor" id="pipeline_source_indirect_ambisonics"></a>
Ambisonics Rendering</h3>
<p>Some audio engines may be able to process Ambisonics audio as-is, using a built-in software decoder or an external hardware decoder. Others will require that you decode the Ambisonics data using the software decoders included with Steam Audio. The output of this step is a multichannel (stereo, quadraphonic, 5.1, or 7.1) audio buffer that can be used with most typical audio engines. See <a class="el" href="group__ambisonicspanning.html">Ambisonics Panning Effect</a> and <a class="el" href="group__ambisonics.html">Ambisonics Binaural Effect</a> for details.</p>
<h3><a class="anchor" id="pipeline_source_indirect_send"></a>
Mixing Direct and Indirect Sound</h3>
<p>You can adjust the relative levels of direct and indirect sound in the final mix. If your audio engine supports auxiliary buses, submix voices, or something similar, you should be able to instantiate the <a class="el" href="group__conveffect.html">Convolution Effect</a> object on the auxiliary bus, and adjust the send level to the auxiliary bus for each source. If this feature is not supported by your audio engine, you may have to implement it yourself.</p>
<h1><a class="anchor" id="pipeline_reverb"></a>
Using Steam Audio for Reverb</h1>
<p>You can use Steam Audio to apply listener-dependent reverb to the audio flowing through any part of your audio engine's signal graph.</p>
<div class="image">
<img src="pipeline_reverb.png" alt="pipeline_reverb.png"/>
<div class="caption">
Audio signal flow when using Steam Audio to apply physics-based reverb.</div></div>
 <h2><a class="anchor" id="pipeline_reverb_effect"></a>
Physics-Based Reverb</h2>
<p>From the point of view of Steam Audio, applying reverb to a (sub-)mixed buffer of audio is more or less the same as applying sound propagation effects to a source. The only difference is that for sound propagation, the source and listener are in general at different positions; for reverb they must be at the same position. The signal flow is otherwise identical, see <a class="el" href="group__conveffect.html">Convolution Effect</a> for details.</p>
<h2><a class="anchor" id="pipeline_reverb_ambisonics"></a>
Ambisonics Rendering</h2>
<p>As with sound propagation effects, the output of the physics-based reverb step is a multi-channel Ambisonics buffer. It may be decoded in software or hardware by your audio engine; if this functionality is not available, you can use Steam Audio's software decoders. See <a class="el" href="group__ambisonicspanning.html">Ambisonics Panning Effect</a> and <a class="el" href="group__ambisonics.html">Ambisonics Binaural Effect</a> for details.</p>
<h2><a class="anchor" id="pipeline_reverb_mix"></a>
Mixing Reverb</h2>
<p>If your audio engine supports auxiliary buses or submix voices, you can use them to create a dedicated signal path for sounds that have reverb applied to them, and adjust a send level (or wet/dry mix level) to balance the relative level of reverb in the mix. If your audio engine does not support this functionality, you may have to implement it yourself.</p>
<h1><a class="anchor" id="pipeline_spatializemix"></a>
Spatializing Surround and Ambisonics Tracks</h1>
<p>You can use Steam Audio to spatialize any Ambisonics or surround (quadraphonic, 5.1, or 7.1) audio signal to a binaural (2-channel) signal. This can help keep CPU overheads low when you want to spatialize lots of sources. It is also useful for quickly adding HRTF-based binaural rendering to an existing project, without making extensive changes to individual sources.</p>
<div class="image">
<img src="pipeline_ambisonics.png" alt="pipeline_ambisonics.png"/>
<div class="caption">
Audio signal flow when using Steam AUdio to spatialize Ambisonics audio.</div></div>
 <h2><a class="anchor" id="pipeline_spatializemix_ambisonics"></a>
Ambisonics Rendering</h2>
<p>Any Ambisonics audio data can be spatialized using HRTFs. See <a class="el" href="group__ambisonics.html">Ambisonics Binaural Effect</a> for details.</p>
<h2><a class="anchor" id="pipeline_spatializemix_surround"></a>
Virtual Surround</h2>
<p>You can also apply HRTF-based binaural rendering to any surround-format buffer. For example, with a 5.1 audio buffer, Steam Audio can place virtual sources around the listener corresponding to the speaker positions in a standard 5.1 layout, and render each channel as a mono point source at its corresponding position. See <a class="el" href="group__virtualsurround.html">Virtual Surround Effect</a> for details. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
