<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Steam Audio API: Game Engine Integration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Steam Audio API
   &#160;<span id="projectnumber">2.0-beta.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">index</a></li><li class="navelem"><a class="el" href="page_integration.html">Integration Guide</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Game Engine Integration </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#game_scene">Scene</a><ul><li class="level2"><a href="#game_scene_staticmesh">Static Meshes</a></li>
</ul>
</li>
<li class="level1"><a href="#game_probe">Probes</a><ul><li class="level2"><a href="#game_probe_box">Probe Boxes</a></li>
<li class="level2"><a href="#game_probe_batch">Probe Batches</a></li>
</ul>
</li>
<li class="level1"><a href="#game_environment">Environment</a></li>
</ul>
</div>
<div class="textblock"><p>If you plan to use the sound propagation, reverb, or occlusion features of Steam Audio, your game engine must send information to the audio engine components that in turn use Steam Audio to apply these effects.</p>
<p>This page provides an overview of the various pieces of the game engine integration that you must implement. For more details on what editor modifications this might necessitate, see <a class="el" href="page_game_editor.html">Editor Integration</a>.</p>
<h1><a class="anchor" id="game_scene"></a>
Scene</h1>
<p>The <a class="el" href="group__scene.html">Scene</a> object contains all of the information that describes the geometry and materials with which sound interacts. You typically create a scene using <a class="el" href="group__scene.html#gae600cc2c2e5d14503fe9bea6e85798e6">iplCreateScene</a> when a level is loaded, and destroy it using <a class="el" href="group__scene.html#ga8d0182a443d4a9f0fb9c40d8b3a23d4e">iplDestroyScene</a> when the data is no longer needed.</p>
<p>Scenes a composed of objects of different types. Currently, only <em>static meshes</em> are supported (see below for details). All objects in a Scene share the same set of materials.</p>
<p>Many game engines use batching optimizations to reduce the number of draw calls sent to the GPU; this may prevent you from accessing geometry when the game runs. In such cases, you must access the geometry in the editor at design time, save a copy of it using <a class="el" href="group__scene.html#gae3836d4d49c1b2909d0834b5cff3c07f">iplSaveScene</a>, and then use <a class="el" href="group__scene.html#gadbbe8caad06ff9834954fea37cc42f96">iplLoadScene</a> to load it when the game runs.</p>
<h2><a class="anchor" id="game_scene_staticmesh"></a>
Static Meshes</h2>
<p>A static mesh is a triangle mesh that never moves or changes in any way. Large buildings, corridors, and landscape terrain can usually be represented as static meshes. To create a Static Mesh object and add it to the scene, use <a class="el" href="group__scene.html#ga65670754f07a0fed3a7748aebfc27866">iplCreateStaticMesh</a>. When you no longer need the Static Mesh data, destroy it using <a class="el" href="group__scene.html#ga1a733f1165c503c2d5b4348eebb3fdc5">iplDestroyStaticMesh</a>.</p>
<p>You explicitly specify information about the vertices and triangles of a static mesh. You must also specify which materials are associated with which triangles.</p>
<h1><a class="anchor" id="game_probe"></a>
Probes</h1>
<p>If you are using baked sound propagation or baked reverb, you must also provide the baked data to Steam Audio when the game runs. To do this, you must first create a Probe Manager object using <a class="el" href="group__probes.html#ga1b49b294c5bcc860384fc931859a932c">iplCreateProbeManager</a>. When you no longer need the baked data, you can call <a class="el" href="group__probes.html#ga2db5c9e67fa65d6679813883372aaa0c">iplDestroyProbeManager</a> to destroy the Probe Manager object.</p>
<p>After creating a Probe Manager object, you must then populate it with information about the probes created using the editor, and the corresponding baked data.</p>
<h2><a class="anchor" id="game_probe_box"></a>
Probe Boxes</h2>
<p>In the editor, probes are created using Probe Box objects, and saved to disk using <a class="el" href="group__probes.html#ga7936925ebe427b7dead043ca706e415e">iplSaveProbeBox</a>. The data stored in a Probe Box, which includes probe positions and baked data, can be loaded using <a class="el" href="group__probes.html#gaee3c2ca8b6918e7fd9b20e6b39ad3aae">iplLoadProbeBox</a>. However, Probe Box objects cannot directly be added to a Probe Manager; you must first create one or more Probe Batch objects.</p>
<h2><a class="anchor" id="game_probe_batch"></a>
Probe Batches</h2>
<p>A Probe Batch is an indivisible collection of probes that can be added or removed from a Probe Manager object. A single Probe Batch may contain probes from multiple Probe Boxes; conversely, the probes from a single Probe Box may be present in multiple Probe Batches. Care must be taken to ensure that no probe is present in more than one Probe Batch. You can create a Probe Batch using <a class="el" href="group__probes.html#ga0279d191c54e367a71cd8c4ea3079a40">iplCreateProbeBatch</a>, and destroy a Probe Batch using <a class="el" href="group__probes.html#gabe9705fb7eaf085101011ff312e1ed3b">iplDestroyProbeBatch</a>. Probes can be added from Probe Boxes using <a class="el" href="group__probes.html#ga48ca905051b5629c193ca37f1b72aa33">iplAddProbeToBatch</a>. Once you have finished adding probes to a Probe Batch, you must use <a class="el" href="group__probes.html#ga4952954d0840d9c3024a887a06a95cd7">iplFinalizeProbeBatch</a> to ensure that Steam Audio builds necessary data structures for looking up baked data.</p>
<p>You can also assign probes to Probe Batches in the design phase. In this case, you can save Probe Batch objects to disk using <a class="el" href="group__probes.html#ga7fb9f11df4fb9d6ee3f6e9e7691f999c">iplSaveProbeBatch</a>, and load them at run-time using <a class="el" href="group__probes.html#ga722c5d0c1e223a9c212797658c3ed813">iplLoadProbeBatch</a>. You do not need to call <a class="el" href="group__probes.html#ga4952954d0840d9c3024a887a06a95cd7">iplFinalizeProbeBatch</a> after loading a Probe Batch using <a class="el" href="group__probes.html#ga722c5d0c1e223a9c212797658c3ed813">iplLoadProbeBatch</a>.</p>
<p>Probe Batches can be added to a Probe Manager using <a class="el" href="group__probes.html#ga80f796691b59f015e56e32f047de0f61">iplAddProbeBatch</a>. You must do this in order to use the baked data contained in a Probe Batch.</p>
<h1><a class="anchor" id="game_environment"></a>
Environment</h1>
<p>Once you have created (or loaded) a Scene object, and optionally a Probe Manager object, you must package all the data that is required by the audio engine components in an <a class="el" href="group__environment.html">Environment</a> object. You can create an Environment object using <a class="el" href="group__environment.html#ga1f77d59317cbfdace0309b2d94463c9b">iplCreateEnvironment</a>. Once you do not need the Environment object, you can destroy it using <a class="el" href="group__environment.html#gaa8f89d409d4505c6da7247b70a8dc4ac">iplDestroyEnvironment</a>.</p>
<p>An Environment object is used by the audio engine integration to create an <a class="el" href="group__envrenderer.html">Environmental Renderer</a> object. Once this object has been created, it retains a reference to the Environment object even if the game engine calls <a class="el" href="group__environment.html#gaa8f89d409d4505c6da7247b70a8dc4ac">iplDestroyEnvironment</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
